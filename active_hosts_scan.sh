#!/bin/bash

function ctrl_c(){
	echo -e "\n\n[!] Saliendo...\n"
	tput cnorm; exit 1
}

# Ctrl + C
trap ctrl_c INT

tput civis # oculta cursor
echo "Detectando hosts..."
for iprank in $(seq 1 254); do
	echo -en "\r\033[KScanning: 10.0.2.$iprank"
	timeout 1 bash -c "ping -c 1 10.0.2.$iprank &>/dev/null" && echo -en "\r\033[K[+] host activo: 10.0.2.$iprank\n" &
done; wait

tput cnorm # visibiliza de vuelta el cursor
